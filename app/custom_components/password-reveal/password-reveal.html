<!--
    Copyright 2014 Ed Carter

    This file is part of Deadbolt Password Generator.

    Deadbolt Password Generator is free software: you can redistribute
    it and/or modify it under the terms of the GNU General Public
    License as published by the Free Software Foundation, either
    version 3 of the License, or (at your option) any later version.

    Deadbolt Password Generator is distributed in the hope that it
    will be useful, but WITHOUT ANY WARRANTY; without even the implied
    warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
    See the GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Deadbolt Password Generator.  If not, see
    <http://www.gnu.org/licenses/>.
 -->
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../deadbolt-password-generator/deadbolt-password-generator.html">

<polymer-element name="password-reveal" attributes="passPhrase includeSymbols caseSensitive passwordLength pinNumber">
    <template
        <link href="password-reveal.css" rel="stylesheet" />
        <p># {{passPhrase}}</p>
        <div style="visibility: {{ passPhrase.length >= 6 ? 'visible' : 'hidden'}}">
            <paper-button raisedbutton class="colored" label="Generate" on-click="{{click}}"></paper-button>
            <paper-dialog heading="Your Password" transition="paper-dialog-transition-center" id="passwordDialog">
                {{password}}
            </paper-dialog>
        </div>
    </template>
    <script>
        Polymer('password-reveal', {
            includeSymbols: true,
            caseSensitive: true,
            passwordLength: 15,
            pinNumber: '0000',
            passPhrase: '',
            password: '',
            click: function () {
                this.password = deadboltPasswordGenerator.generatePassword(this.passPhrase, this.pinNumber, this.includeSymbols, this.caseSensitive, this.passwordLength);
                console.log(this.password);
                var dialog = this.$.passwordDialog;
                dialog.toggle();
            }
        });
    </script>
</polymer-element>