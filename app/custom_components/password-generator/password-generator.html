<!--
    Copyright 2014 Ed Carter

    This file is part of Deadbolt Password Generator.

    Deadbolt Password Generator is free software: you can redistribute
    it and/or modify it under the terms of the GNU General Public
    License as published by the Free Software Foundation, either
    version 3 of the License, or (at your option) any later version.

    Deadbolt Password Generator is distributed in the hope that it
    will be useful, but WITHOUT ANY WARRANTY; without even the implied
    warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
    See the GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Deadbolt Password Generator.  If not, see
    <http://www.gnu.org/licenses/>.
 -->
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">


<polymer-element name="password-generator" attributes="passPhrase includeSymbols caseSensitive passwordLength pinNumber">
    <template>
        <script src="deadbolt.js"></script>
        <p># {{passPhrase}}</p>
        <div style="visibility: {{ minimumPhraseLengthMet ? 'visible' : 'hidden'}}">
            <paper-button raisedbutton class="colored" label="Generate" on-click="{{click}}"></paper-button>
        </div>
    </template>
    <script>
        Polymer('password-generator', {
            includeSymbols: true,
            caseSensitive: true,
            passwordLength: 15,
            pinNumber: '0000',
            passPhrase: '',
            get passPhraseLength() {
                return this.passPhrase.length;
            },
            get minimumPhraseLengthMet() {
                return this.passPhraseLength >= 6;
            },
            click: function () {
                var password = deadboltPasswordGenerator.generatePassword(this.passPhrase, this.pinNumber, this.includeSymbols, this.caseSensitive, this.passwordLength);
                console.log(password);
            }
        });
    </script>
</polymer-element>